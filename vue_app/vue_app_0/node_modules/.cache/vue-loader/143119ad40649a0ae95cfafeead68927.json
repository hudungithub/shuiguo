{"remainingRequest":"D:\\第四阶段\\vue_app_000\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\第四阶段\\vue_app_000\\vue_app_00\\src\\components\\xz\\Cart.vue?vue&type=style&index=0&lang=css","dependencies":[{"path":"D:\\第四阶段\\vue_app_000\\vue_app_00\\src\\components\\xz\\Cart.vue","mtime":1570527616389},{"path":"D:\\第四阶段\\vue_app_000\\vue_app_00\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\第四阶段\\vue_app_000\\vue_app_00\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1521907988000},{"path":"D:\\第四阶段\\vue_app_000\\vue_app_00\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\第四阶段\\vue_app_000\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"D:\\第四阶段\\vue_app_000\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n/*1：购物车商品内容*/\r\n.cart-item{\r\n    display:flex;\r\n    justify-content:space-between;\r\n    align-items:center;\r\n    border-bottom:1px solid #ccc;\r\n    margin-top:25px;\r\n}\r\n/*2：左侧复选框文字弹性布局*/\r\n.leftText{\r\n    display:flex;\r\n    align-items:center;\r\n}\r\n/*3.修饰商品名称*/\r\n.lname{\r\n    margin-left:25px;\r\n    color:#333;\r\n}\r\n/*4修饰商品价格*/\r\n.price{\r\n    margin-left:25px;\r\n    color:red;\r\n}\r\n",{"version":3,"sources":["Cart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Cart.vue","sourceRoot":"src\\components\\xz","sourcesContent":["<template>\r\n    <div>\r\n        <!--<h1>购物车</h1>-->\r\n        <!--(1)顶部复选框：全选-->\r\n        <div>\r\n            全选<input type=\"checkbox\" v-model=\"item.cb\">\r\n        </div>\r\n        <!--(2)中间复选框：商品名/价格/删除-->\r\n        <div class=\"cart-item\" v-for=\"(item,i) of list\" :key=\"i\">\r\n            <div class=\"leftText\">\r\n            <input type=\"checkbox\">\r\n            <div class=\"lname\">{{item.lname}}</div>\r\n            <div class=\"price\">{{item.price}}</div>\r\n            </div>\r\n            <mt-button @click=\"del\" :data-id=\"item.id\">删除</mt-button>\r\n        </div>\r\n        <!--(3)删除选中商品复选框-->\r\n        <div>\r\n            购物车中商品数量\r\n            <span style=\"color:red\">2</span>\r\n            <mt-button>删除选中商品</mt-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data(){\r\n        return{\r\n            list:[]//购物车列表\r\n        }\r\n    },\r\n    created(){//1：添加生命周期\r\n        this.loadMore()\r\n    },\r\n    methods:{\r\n        del(event){\r\n            //1:为删除按钮添加自定义属性\r\n\r\n            //data-id 保存当前购物车商品id\r\n            //2：添加点击事件click delimiters\r\n            this.$messagebox.confirm(\"是否删除指定商品\").then(res=>{\r\n\r\n           \r\n            //2.1:交互提示：是否删除商品\r\n            //3：获取当前商品id\r\n            var id=event.target.dataset.id;\r\n            //4：输出id\r\n            console.log(id);\r\n            //5：发送ajax请求\r\n            var url=\"del\"\r\n            var obj = {id};\r\n            this.axios.get(url,{params:obj}).then(res=>{\r\n               console.log(res);\r\n               //6：获取服务器端返回数据\r\n            if(res.data.code>0){\r\n                this.$toast(\"删除成功\");\r\n                this.loadMore();\r\n            }\r\n            //7：提示删除成功\r\n            })\r\n            //8：重新调用 loadMore\r\n            }).catch(err=>{\r\n                \r\n            })\r\n        },\r\n        loadMore(){\r\n            //1:创建url\r\n            var url = \"findcart\"\r\n            //2:发送ajax请求获取购物车\r\n            this.axios.get(url).then(res=>{\r\n                console.log(res.data.code);\r\n                if(res.data.code==-1){\r\n                    //提示交互提示框\r\n                    this.$messagebox(\"消息\",\"请登录\").then(res=>{\r\n                        //跳转登录组件\r\n                        this.$router.push(\"/Login\");\r\n                    })\r\n                }else{\r\n                    //res变量data属性data数组\r\n                    this.list = res.data.data\r\n                    //(1)为每个商品添加状态\r\n                    //res变量data属性data数组\r\n                    var list = res.data.data;\r\n                    for(var item of list){\r\n                        item.cb=false;\r\n                    }\r\n                    this.list = list;\r\n                }\r\n            })\r\n            //3:将服务器返回数据保存list\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style>\r\n/*1：购物车商品内容*/\r\n.cart-item{\r\n    display:flex;\r\n    justify-content:space-between;\r\n    align-items:center;\r\n    border-bottom:1px solid #ccc;\r\n    margin-top:25px;\r\n}\r\n/*2：左侧复选框文字弹性布局*/\r\n.leftText{\r\n    display:flex;\r\n    align-items:center;\r\n}\r\n/*3.修饰商品名称*/\r\n.lname{\r\n    margin-left:25px;\r\n    color:#333;\r\n}\r\n/*4修饰商品价格*/\r\n.price{\r\n    margin-left:25px;\r\n    color:red;\r\n}\r\n</style>"]}]}