{"remainingRequest":"C:\\Users\\web\\Desktop\\水果\\vue_app\\vue_app_0\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web\\Desktop\\水果\\vue_app\\vue_app_0\\src\\components\\shuiguo\\setaddress.vue?vue&type=style&index=0&id=70b2cba6&scoped=true&lang=css","dependencies":[{"path":"C:\\Users\\web\\Desktop\\水果\\vue_app\\vue_app_0\\src\\components\\shuiguo\\setaddress.vue","mtime":1571750514149},{"path":"C:\\Users\\web\\Desktop\\水果\\vue_app\\vue_app_0\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\web\\Desktop\\水果\\vue_app\\vue_app_0\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1521907988000},{"path":"C:\\Users\\web\\Desktop\\水果\\vue_app\\vue_app_0\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\web\\Desktop\\水果\\vue_app\\vue_app_0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\Users\\web\\Desktop\\水果\\vue_app\\vue_app_0\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@font-face {\n  font-family: \"icomoon\";\n  src: url(\"../../fonts/icomoon.eot?q0tv6r\");\n  src: url(\"../../fonts/icomoon.eot?q0tv6r#iefix\") format(\"embedded-opentype\"),\n    url(\"../../fonts/icomoon.ttf?q0tv6r\") format(\"truetype\"),\n    url(\"../../fonts/icomoon.woff?q0tv6r\") format(\"woff\"),\n    url(\"../../fonts/icomoon.svg?q0tv6r#icomoon\") format(\"svg\");\n  font-weight: normal;\n  font-style: normal;\n}\ni {\n  font-style: normal;\n}\ninput {\n  outline: none;\n  text-align: right;\n  border: 0;\n}\ndiv,\nlabel,\ninput,\nspan {\n  font-size: 14px;\n}\n.setAddress {\n  height: 100vh;\n  background: #f3f3f3;\n  margin-top: 40px;\n}\n.newAddressBox {\n  background: #fff;\n}\n.newAddressBox,\n.newAddressBottom {\n  padding: 5px 15px;\n}\n.newAddressView {\n  height: 42px;\n  display: flex;\n  border-bottom: 1px solid #ccc;\n  justify-content: space-between;\n  align-content: center;\n  color: #666;\n}\n.newAddressView:nth-child(9) {\n  border-bottom: none;\n}\n.newAddressView label {\n  line-height: 42px;\n  white-space: nowrap;\n}\n.adress-label-box {\n  display: flex;\n  align-items: center;\n}\n.city,\n.country,\n.AreaCode {\n  display: flex;\n  align-items: center;\n  overflow: hidden;\n  white-space: nowrap;\n}\n.country,\n.AreaCode {\n  color: #000;\n}\n.adressLabel {\n  width: 50px;\n  height: 25px;\n  border: 1px solid #ccc;\n  border-radius: 14px;\n  text-align: center;\n  line-height: 23px;\n  margin-left: 10px;\n}\n.active {\n  background: rgba(255, 113, 0, 0.2);\n  color: #ff7100;\n  border: 1px solid #ff7100;\n}\n.iconColor {\n  color: #ff7100;\n}\n.icon-checkmark:before {\n  font-family: \"icomoon\";\n  content: \"\\e900\";\n}\n.icon-ctrl::before {\n  font-family: \"icomoon\";\n  content: \"\\ea50\";\n  line-height: 0px;\n}\n.hide {\n  display: none;\n}\n.adress-pick-up {\n  display: flex;\n  align-items: center;\n}\n.adress-pick-up i {\n  padding: 0 5px 0 15px;\n  vertical-align: middle;\n}\n.newAddressBottom {\n  display: flex;\n  flex-wrap: wrap;\n  padding: 20px 15px;\n}\n.sureAddress,\n.cancelAddAddress {\n  width: 100%;\n  height: 44px;\n  background: rgb(255, 113, 0);\n  text-align: center;\n  color: #fff;\n  line-height: 44px;\n  border-radius: 3px;\n}\n.cancelAddAddress {\n  background: #fff;\n  margin: 15px 0 0;\n  color: #000;\n}\n@keyframes transition {\n  from {\n    height: 0%;\n  }\n  to {\n    height: 45%;\n  }\n}\n.am-picker-popup-mask {\n  background-color: rgba(0, 0, 0, 0.4);\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1;\n}\n.am-picker-popup-wrap {\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  height: 45%;\n  width: 100%;\n  z-index: 2;\n  background: #fff;\n  animation: transition 0.2s;\n}\n.am-picker-popup-header {\n  display: flex;\n  justify-content: space-between;\n  height: 20px;\n  border-bottom: 1px solid #ddd;\n  padding: 10px;\n  color: #108ee9;\n}\n",{"version":3,"sources":["setaddress.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"setaddress.vue","sourceRoot":"src\\components\\shuiguo","sourcesContent":["<template>\n  <div>\n    <v-Ddd></v-Ddd>\n    <table></table>\n    <div class=\"setAddress\">\n      <div class=\"newAddressBox\">\n        <div class=\"newAddressView\">\n          <label>收货人</label\n          ><input\n            type=\"text\"\n            maxlength=\"20\"\n            placeholder=\"请填写收货人姓名\"\n            v-model=\"Recipient\"\n          />\n        </div>\n        <div class=\"newAddressView\">\n          <label>性别</label>\n          <div class=\"adress-label-box\">\n            <div\n              :class=\"ageClass==uage?'adressLabel active':'adressLabel'\"\n              v-for=\"(uage, agei) in uages\"\n              :key=\"agei\"\n              @click=\"getage(uage)\"\n            >\n              {{ uage }}\n            </div>\n          </div>\n        </div>\n        <div class=\"newAddressView\">\n          <label>国家</label>\n          <div class=\"country\">\n            <span>中国</span>\n          </div>\n        </div>\n        <div class=\"newAddressView\">\n          <label>区号</label>\n          <div class=\"AreaCode\">\n            <span>中国大陆 +86</span>\n          </div>\n        </div>\n        <div class=\"newAddressView\">\n          <label>手机号码</label\n          ><input\n            type=\"text\"\n            maxlength=\"11\"\n            placeholder=\"请填写收货人手机号\"\n            v-model=\"phone\"\n          />\n        </div>\n        <div class=\"newAddressView\">\n          <label>所在地区</label>\n          <div class=\"city\" @click=\"toggle\">\n            <span>{{\n              myAddressProvince + \" \" + myAddressCity + \" \" + myAddresscounty\n            }}</span\n            ><i class=\"icon-ctrl\"></i>\n          </div>\n        </div>\n        <div class=\"newAddressView\">\n          <label>详细地址</label\n          ><input\n            type=\"text\"\n            placeholder=\"详细地址(列如门牌号等) \"\n            v-model=\"ress\"\n          />\n        </div>\n        <div class=\"newAddressView\">\n          <label>选择标签</label>\n          <div class=\"adress-label-box\">\n            <div\n              :class=\"activeClass==label?'adressLabel active':'adressLabel'\"\n              v-for=\"(label, index) in labels\"\n              :key=\"index\"\n              @click=\"getitem(label)\"\n            >\n              {{ label }}\n            </div>\n          </div>\n        </div>\n        <div class=\"newAddressView\">\n          <label>取货方式</label>\n          <div class=\"adress-pick-up\">\n            <div\n              v-for=\"(pick, picki) in pickUps\"\n              :key=\"picki\"\n              :class=\"pickClass==pick?' iconColor':''\"\n              @click=\"getpick(pick)\"\n            >\n              <i class=\"icon-checkmark\"></i><span>{{ pick }}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"newAddressBottom\">\n        <div class=\"sureAddress\" @keyup.enter=\"submit\" @click=\"save\">\n          保存并使用\n        </div>\n        <div\n          :class=\"this.id=='add'?'cancelAddAddress hide':'cancelAddAddress'\"\n          @click=\"del\"\n        >\n          删除收货地址\n        </div>\n      </div>\n    </div>\n    <div class=\"am-picker-popup-container\" v-show=\"alert\">\n      <div class=\"am-picker-popup-mask\"></div>\n      <div class=\"am-picker-popup-wrap\">\n        <div class=\"am-picker-popup\">\n          <div class=\"am-picker-popup-header\">\n            <div class=\"header-left\" @click=\"toggle\">取消</div>\n            <div class=\"header-right\" @click=\"determine\">确定</div>\n          </div>\n          <div class=\"am-picker\">\n            <mt-picker\n              :slots=\"myAddressSlots\"\n              @change=\"onMyAddressChange\"\n            ></mt-picker>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n  import vDdd from \"./Ddd.vue\";\n  import myaddress from \"./json/provinces\";\n  export default {\n    props: [\"id\"],\n    data() {\n      return {\n        Recipient: \"\", //收件人uname\n        phone: \"\", //手机号码\n        ress: \"\", //详细地址\n        alert: false,\n        uages: [\"女士\", \"男士\"],\n        labels: [\"家\", \"学校\", \"公司\"],\n        pickUps: [\"快递\", \"同城\", \"自提\"],\n        ageClass: \"男士\", //性别uage\n        pickClass: \"快递\", //取货方式\n        activeClass: \"家\", //选择标签\n        //myAddressProvince,myAddressCity,myAddresscounty\n        items: [],\n        myAddressSlots: [\n          //城市三级联动\n          {\n            flex: 1,\n            defaultIndex: 1,\n            values: Object.keys(myaddress),\n            className: \"slot1\",\n            textAlign: \"center\"\n          },\n          {\n            divider: true,\n            content: \"-\",\n            className: \"slot2\"\n          },\n          {\n            flex: 1,\n            values: [],\n            className: \"slot3\",\n            textAlign: \"center\"\n          },\n          {\n            divider: true,\n            content: \"-\",\n            className: \"slot4\"\n          },\n          {\n            flex: 1,\n            values: [],\n            className: \"slot5\",\n            textAlign: \"center\"\n          }\n        ],\n        myAddressProvince: \"省\",\n        myAddressCity: \"市\",\n        myAddresscounty: \"区/县\",\n        arr: []\n      };\n    },\n    mounted() {\n      this.load();\n      this.$nextTick(() => {\n        //城市三级联动\n        this.myAddressSlots[0].defaultIndex = 0;\n      });\n    },\n    methods: {\n      load() {\n        if (this.id !== \"add\") {\n          this.axios\n            .get(\"http://localhost:4001/course/\" + this.id)\n            .then(res => {\n              this.Recipient = res.data.uname; //收货人\n              this.phone = res.data.phone; //手机\n              this.ress = res.data.address; //详细地址\n              this.ageClass = res.data.uage; //性别uage\n              this.pickClass = res.data.is_default; //取货方式\n              this.activeClass = res.data.label; //选择标签\n              this.myAddressProvince = res.data.province; //省\n              this.myAddressCity = res.data.city; //市\n              this.myAddresscounty = res.data.country; //县\n            })\n            .catch(err => {\n              console.error(err);\n            });\n        }\n      },\n      toggle() {\n        this.alert = !this.alert;\n      },\n      onMyAddressChange(picker, values) {\n        //城市三级联动\n        if (myaddress[values[0]]) {\n          picker.setSlotValues(1, Object.keys(myaddress[values[0]]));\n          picker.setSlotValues(2, myaddress[values[0]][values[1]]);\n          this.arr[0] = values[0];\n          this.arr[1] = values[1];\n          this.arr[2] = values[2];\n        }\n      },\n      determine() {\n        this.myAddressProvince = this.arr[0];\n        this.myAddressCity = this.arr[1];\n        this.myAddresscounty = this.arr[2];\n        this.alert = false;\n      },\n      getitem(index) {\n        this.activeClass = index;\n        console.log(index);\n      },\n      getage(agei) {\n        this.ageClass = agei;\n        console.log(agei);\n      },\n      getpick(picki) {\n        this.pickClass = picki;\n        console.log(picki);\n      },\n      save() {\n        console.log(\"save\");\n        var uname = /^[\\u4e00-\\u9fa5]{2,12}$/;\n        var phone = /^1[3-9]\\d{9}$/;\n        var ress = /^[\\u4e00-\\u9fa5]+$/;\n        var u = this.Recipient; //收货人\n        var p = this.phone; //手机\n        var r = this.ress; //详细地址\n        var age = this.ageClass; //性别uage\n        var pick = this.pickClass; //取货方式\n        var active = this.activeClass; //选择标签\n        var sheng = this.myAddressProvince; //省\n        var shi = this.myAddressCity; //市\n        var xian = this.myAddresscounty; //县\n        if (uname.test(u) == false) {\n          this.$messagebox(\"收货人格式不正确\");\n          return;\n        } else if (phone.test(p) == false) {\n          this.$messagebox(\"手机号码格式不正确\");\n          return;\n        } else if (ress.test(r) == false) {\n          this.$messagebox(\"详细地址不能为空\");\n        } else if (this.myAddressProvince == \"省\") {\n          this.$messagebox(\"请选择所在地区\");\n          return;\n        } else if (this.id == \"add\") {\n          this.axios({\n            url:\n              \"http://localhost:4001/course\" +\n              `?city=${shi}&country=${xian}&is_default=${pick}&label=${active}&phone=${p}&province=${sheng}&uage=${age}&uname=${u}`,\n            method: \"POST\",\n            data: {\n              country: xian,\n              is_default: pick,\n              label: active,\n              phone: p,\n              province: sheng,\n              uage: age,\n              uname: u,\n              city: shi,\n              address: r\n            }\n          }).then(res => {\n            this.$messagebox(\"添加成功\");\n            this.$router.push(\"/address\");\n          });\n        } else {\n          this.axios({\n            url:\n              \"http://localhost:4001/course/\" +\n              this.id +\n              `?city=${shi}&country=${xian}&is_default=${pick}&label=${active}&phone=${p}&province=${sheng}&uage=${age}&uname=${u}`,\n            method: \"PUT\",\n            data: {\n              country: xian,\n              is_default: pick,\n              label: active,\n              phone: p,\n              province: sheng,\n              uage: age,\n              uname: u,\n              city: shi,\n              address: r\n            }\n          }).then(res => {\n            this.$messagebox(\"添加成功\");\n            this.$router.push(\"/address\");\n          });\n        }\n      },\n      del() {\n        this.$messagebox\n          .confirm(\"是否删除该收获地址\")\n          .then(res => {\n            console.log(\"提交了删除操作\");\n            this.axios\n              .delete(\"http://localhost:4001/course/\" + this.id)\n              .then(res => {\n                this.$messagebox(\"删除成功\");\n                this.$router.push(\"/address\");\n              })\n              .catch(err => {\n                console.error(err);\n              });\n          })\n          .catch(err => {\n            console.log(err);\n          });\n      }\n    },\n    components: {\n      vDdd\n    }\n  };\n</script>\n<style scoped>\n  @font-face {\n    font-family: \"icomoon\";\n    src: url(\"../../fonts/icomoon.eot?q0tv6r\");\n    src: url(\"../../fonts/icomoon.eot?q0tv6r#iefix\") format(\"embedded-opentype\"),\n      url(\"../../fonts/icomoon.ttf?q0tv6r\") format(\"truetype\"),\n      url(\"../../fonts/icomoon.woff?q0tv6r\") format(\"woff\"),\n      url(\"../../fonts/icomoon.svg?q0tv6r#icomoon\") format(\"svg\");\n    font-weight: normal;\n    font-style: normal;\n  }\n  i {\n    font-style: normal;\n  }\n  input {\n    outline: none;\n    text-align: right;\n    border: 0;\n  }\n  div,\n  label,\n  input,\n  span {\n    font-size: 14px;\n  }\n  .setAddress {\n    height: 100vh;\n    background: #f3f3f3;\n    margin-top: 40px;\n  }\n  .newAddressBox {\n    background: #fff;\n  }\n  .newAddressBox,\n  .newAddressBottom {\n    padding: 5px 15px;\n  }\n  .newAddressView {\n    height: 42px;\n    display: flex;\n    border-bottom: 1px solid #ccc;\n    justify-content: space-between;\n    align-content: center;\n    color: #666;\n  }\n  .newAddressView:nth-child(9) {\n    border-bottom: none;\n  }\n  .newAddressView label {\n    line-height: 42px;\n    white-space: nowrap;\n  }\n  .adress-label-box {\n    display: flex;\n    align-items: center;\n  }\n  .city,\n  .country,\n  .AreaCode {\n    display: flex;\n    align-items: center;\n    overflow: hidden;\n    white-space: nowrap;\n  }\n  .country,\n  .AreaCode {\n    color: #000;\n  }\n  .adressLabel {\n    width: 50px;\n    height: 25px;\n    border: 1px solid #ccc;\n    border-radius: 14px;\n    text-align: center;\n    line-height: 23px;\n    margin-left: 10px;\n  }\n  .active {\n    background: rgba(255, 113, 0, 0.2);\n    color: #ff7100;\n    border: 1px solid #ff7100;\n  }\n  .iconColor {\n    color: #ff7100;\n  }\n  .icon-checkmark:before {\n    font-family: \"icomoon\";\n    content: \"\\e900\";\n  }\n  .icon-ctrl::before {\n    font-family: \"icomoon\";\n    content: \"\\ea50\";\n    line-height: 0px;\n  }\n  .hide {\n    display: none;\n  }\n  .adress-pick-up {\n    display: flex;\n    align-items: center;\n  }\n  .adress-pick-up i {\n    padding: 0 5px 0 15px;\n    vertical-align: middle;\n  }\n  .newAddressBottom {\n    display: flex;\n    flex-wrap: wrap;\n    padding: 20px 15px;\n  }\n  .sureAddress,\n  .cancelAddAddress {\n    width: 100%;\n    height: 44px;\n    background: rgb(255, 113, 0);\n    text-align: center;\n    color: #fff;\n    line-height: 44px;\n    border-radius: 3px;\n  }\n  .cancelAddAddress {\n    background: #fff;\n    margin: 15px 0 0;\n    color: #000;\n  }\n  @keyframes transition {\n    from {\n      height: 0%;\n    }\n    to {\n      height: 45%;\n    }\n  }\n  .am-picker-popup-mask {\n    background-color: rgba(0, 0, 0, 0.4);\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    z-index: 1;\n  }\n  .am-picker-popup-wrap {\n    position: fixed;\n    left: 0;\n    bottom: 0;\n    height: 45%;\n    width: 100%;\n    z-index: 2;\n    background: #fff;\n    animation: transition 0.2s;\n  }\n  .am-picker-popup-header {\n    display: flex;\n    justify-content: space-between;\n    height: 20px;\n    border-bottom: 1px solid #ddd;\n    padding: 10px;\n    color: #108ee9;\n  }\n</style>\n"]}]}