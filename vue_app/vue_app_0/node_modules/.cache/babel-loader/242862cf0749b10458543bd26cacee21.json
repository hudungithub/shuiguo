{"remainingRequest":"C:\\Users\\web\\Desktop\\水果\\vue_app\\vue_app_0\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\web\\Desktop\\水果\\vue_app\\vue_app_0\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web\\Desktop\\水果\\vue_app\\vue_app_0\\src\\components\\shuiguo\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\web\\Desktop\\水果\\vue_app\\vue_app_0\\src\\components\\shuiguo\\Login.vue","mtime":1571904768129},{"path":"C:\\Users\\web\\Desktop\\水果\\vue_app\\vue_app_0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\Users\\web\\Desktop\\水果\\vue_app\\vue_app_0\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"C:\\Users\\web\\Desktop\\水果\\vue_app\\vue_app_0\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport vDdd from \"./Ddd.vue\";\nexport default {\n  data: function data() {\n    return {\n      phone: [],\n      yzm: [],\n      inputyzm: []\n    };\n  },\n  mounted: function mounted() {\n    this.change();\n  },\n  methods: {\n    change: function change() {\n      var c3 = document.getElementById(\"c3\");\n      var ctx = c3.getContext(\"2d\");\n      var a = Math.floor(Math.random() * 10);\n      var b = Math.floor(Math.random() * 10);\n      var c = Math.floor(Math.random() * 10);\n      var d = Math.floor(Math.random() * 10);\n      this.yzm = \"\" + a + b + c + d;\n      console.log(this.yzm); //随机背景颜色\n\n      var r = Math.floor(Math.random() * 255);\n      var g = Math.floor(Math.random() * 255);\n      var q = Math.floor(Math.random() * 255);\n      c3.style.background = \"rgba(\" + r + \",\" + g + \",\" + q + \",\" + \"0.6)\"; // console.log(abcd); // console.log(a);\n\n      ctx.font = \"40px Arial\";\n      ctx.clearRect(0, 0, 999, 999);\n      ctx.fillText(this.yzm, 60, 40);\n    },\n    login: function login() {\n      var _this = this;\n\n      //功能：完成用户登录操作\n      // 1.获取用户输入的电话\n      var phone = this.phone; // 2.创建正则表达式\n\n      var reg = /^[1][3,4,5,7,8][0-9]{9}$/; // 3.验证用户手机\n\n      if (!reg.test(phone)) {\n        // 3.1 验证不成功提示消息\n        this.$messagebox(\"手机号格式不正确\");\n        return;\n      }\n\n      if (this.inputyzm !== this.yzm) {\n        this.$messagebox(\"验证码输入错误,请重新\");\n        return;\n      } //创建url请求服务器\n\n\n      var url = \"login\"; //请求参数为phone\n\n      var obj = {\n        phone: phone\n      }; //向服务器请求\n\n      this.axios.get(url, {\n        params: obj\n      }).then(function (res) {\n        console.log(res);\n\n        if (res.data.code == \"1\") {\n          //如果成功，跳转主页面\n          sessionStorage.uid = res.data.data[0].id;\n          console.log(\"登陆成功\", sessionStorage.uid);\n\n          _this.$messagebox(\"登录成功\");\n\n          _this.$router.push(\"/Home\");\n        } else if (res.data.code == \"-1\") {\n          _this.$messagebox(\"账号不存在\");\n\n          _this.$router.push(\"/Reg\");\n        }\n      });\n    }\n  },\n  components: {\n    vDdd: vDdd\n  }\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAqBA,OAAA,IAAA,MAAA,WAAA;AACA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,aAAA,EADA;AAEA,WAAA,EAFA;AAGA,gBAAA;AAHA,KAAA;AAKA,GAPA;AAQA,SARA,qBAQA;AACA,SAAA,MAAA;AACA,GAVA;AAWA,WAAA;AACA,UADA,oBACA;AACA,UAAA,KAAA,SAAA,cAAA,CAAA,IAAA,CAAA;AACA,UAAA,MAAA,GAAA,UAAA,CAAA,IAAA,CAAA;AACA,UAAA,IAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,EAAA,CAAA;AACA,UAAA,IAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,EAAA,CAAA;AACA,UAAA,IAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,EAAA,CAAA;AACA,UAAA,IAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,EAAA,CAAA;AACA,WAAA,GAAA,GAAA,KAAA,CAAA,GAAA,CAAA,GAAA,CAAA,GAAA,CAAA;AACA,cAAA,GAAA,CAAA,KAAA,GAAA,EARA,CASA;;AACA,UAAA,IAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,GAAA,CAAA;AACA,UAAA,IAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,GAAA,CAAA;AACA,UAAA,IAAA,KAAA,KAAA,CAAA,KAAA,MAAA,KAAA,GAAA,CAAA;AACA,SAAA,KAAA,CAAA,UAAA,GAAA,UAAA,CAAA,SAAA,CAAA,SAAA,CAAA,eAAA,CAbA,CAaA;;AACA,UAAA,IAAA,GAAA,YAAA;AACA,UAAA,SAAA,CAAA,CAAA,EAAA,CAAA,EAAA,GAAA,EAAA,GAAA;AACA,UAAA,QAAA,CAAA,KAAA,GAAA,EAAA,EAAA,EAAA,EAAA;AACA,KAlBA;AAmBA,SAnBA,mBAmBA;AAAA;;AACA;AACA;AACA,UAAA,QAAA,KAAA,KAAA,CAHA,CAGA;;AACA,UAAA,MAAA,0BAAA,CAJA,CAIA;;AACA,UAAA,CAAA,IAAA,IAAA,CAAA,KAAA,CAAA,EAAA;AACA;AACA,aAAA,WAAA,CAAA,UAAA;AACA;AACA;;AACA,UAAA,KAAA,QAAA,KAAA,KAAA,GAAA,EAAA;AACA,aAAA,WAAA,CAAA,aAAA;AACA;AACA,OAbA,CAcA;;;AACA,UAAA,MAAA,OAAA,CAfA,CAgBA;;AACA,UAAA,MAAA;AAAA,eAAA;AAAA,OAAA,CAjBA,CAkBA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA;AAAA,gBAAA;AAAA,OAAA,EAAA,IAAA,CAAA,eAAA;AACA,gBAAA,GAAA,CAAA,GAAA;;AACA,YAAA,IAAA,IAAA,CAAA,IAAA,IAAA,GAAA,EAAA;AACA;AACA,yBAAA,GAAA,GAAA,IAAA,IAAA,CAAA,IAAA,CAAA,CAAA,EAAA,EAAA;AACA,kBAAA,GAAA,CAAA,MAAA,EAAA,eAAA,GAAA;;AACA,gBAAA,WAAA,CAAA,MAAA;;AACA,gBAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA,SANA,MAMA,IAAA,IAAA,IAAA,CAAA,IAAA,IAAA,IAAA,EAAA;AACA,gBAAA,WAAA,CAAA,OAAA;;AACA,gBAAA,OAAA,CAAA,IAAA,CAAA,MAAA;AACA;AACA,OAZA;AAaA;AAnDA,GAXA;AAgEA,cAAA;AACA;AADA;AAhEA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <v-Ddd></v-Ddd>\r\n    <table></table>\r\n    <div>\r\n      <mt-field\r\n        label=\"手机号\"\r\n        placeholder=\"请输入手机号\"\r\n        v-model=\"phone\"\r\n        class=\"phone\"\r\n      ></mt-field>\r\n      <div>\r\n        <mt-field label=\"验证码\" placeholder=\"请输入验证码\" v-model=\"inputyzm\"\r\n          ><canvas id=\"c3\" width=\"170\" height=\"48\" @click=\"change()\"></canvas\r\n        ></mt-field>\r\n      </div>\r\n      <mt-button id=\"delu\" @click=\"login\">登陆</mt-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n  import vDdd from \"./Ddd.vue\";\r\n  export default {\r\n    data() {\r\n      return {\r\n        phone: [],\r\n        yzm: [],\r\n        inputyzm: []\r\n      };\r\n    },\r\n    mounted() {\r\n      this.change();\r\n    },\r\n    methods: {\r\n      change() {\r\n        var c3 = document.getElementById(\"c3\");\r\n        var ctx = c3.getContext(\"2d\");\r\n        var a = Math.floor(Math.random() * 10);\r\n        var b = Math.floor(Math.random() * 10);\r\n        var c = Math.floor(Math.random() * 10);\r\n        var d = Math.floor(Math.random() * 10);\r\n        this.yzm = \"\" + a + b + c + d;\r\n        console.log(this.yzm);\r\n        //随机背景颜色\r\n        var r = Math.floor(Math.random() * 255);\r\n        var g = Math.floor(Math.random() * 255);\r\n        var q = Math.floor(Math.random() * 255);\r\n        c3.style.background = `rgba(` + r + `,` + g + `,` + q + `,` + `0.6)`; // console.log(abcd); // console.log(a);\r\n        ctx.font = \"40px Arial\";\r\n        ctx.clearRect(0, 0, 999, 999);\r\n        ctx.fillText(this.yzm, 60, 40);\r\n      },\r\n      login() {\r\n        //功能：完成用户登录操作\r\n        // 1.获取用户输入的电话\r\n        var phone = this.phone; // 2.创建正则表达式\r\n        var reg = /^[1][3,4,5,7,8][0-9]{9}$/; // 3.验证用户手机\r\n        if (!reg.test(phone)) {\r\n          // 3.1 验证不成功提示消息\r\n          this.$messagebox(\"手机号格式不正确\");\r\n          return;\r\n        }\r\n        if (this.inputyzm !== this.yzm) {\r\n          this.$messagebox(\"验证码输入错误,请重新\");\r\n          return;\r\n        }\r\n        //创建url请求服务器\r\n        var url = \"login\";\r\n        //请求参数为phone\r\n        var obj = { phone: phone };\r\n        //向服务器请求\r\n        this.axios.get(url, { params: obj }).then(res => {\r\n          console.log(res);\r\n          if (res.data.code == \"1\") {\r\n            //如果成功，跳转主页面\r\n            sessionStorage.uid = res.data.data[0].id;\r\n            console.log(\"登陆成功\", sessionStorage.uid);\r\n            this.$messagebox(\"登录成功\");\r\n            this.$router.push(\"/Home\");\r\n          } else if (res.data.code == \"-1\") {\r\n            this.$messagebox(\"账号不存在\");\r\n            this.$router.push(\"/Reg\");\r\n          }\r\n        });\r\n      }\r\n    },\r\n    components: {\r\n      vDdd\r\n    }\r\n  };\r\n</script>\r\n<style scope>\r\n  * {\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n  .phone {\r\n    margin-top: 40px;\r\n  }\r\n  #c3 {\r\n    width: 120px;\r\n    height: 50px;\r\n  }\r\n  #delu {\r\n    background: #ddffdd;\r\n    width: 40%;\r\n    margin-left: 30%;\r\n    margin-top: 20px;\r\n  }\r\n</style>\r\n"],"sourceRoot":"src\\components\\shuiguo"}]}