{"remainingRequest":"D:\\第四阶段\\vue_app_000\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!D:\\第四阶段\\vue_app_000\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\第四阶段\\vue_app_000\\vue_app_00\\src\\components\\xz\\Cart.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\第四阶段\\vue_app_000\\vue_app_00\\src\\components\\xz\\Cart.vue","mtime":1570526046751},{"path":"D:\\第四阶段\\vue_app_000\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"D:\\第四阶段\\vue_app_000\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"D:\\第四阶段\\vue_app_000\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      list: [] //购物车列表\n\n    };\n  },\n  created: function created() {\n    //1：添加生命周期\n    this.loadMore();\n  },\n  methods: {\n    del: function del(event) {\n      var _this = this;\n\n      //1:为删除按钮添加自定义属性\n      //data-id 保存当前购物车商品id\n      //2：添加点击事件click delimiters\n      this.$messagebox.confirm(\"是否删除指定商品\").then(function (res) {\n        //2.1:交互提示：是否删除商品\n        //3：获取当前商品id\n        var id = event.target.dataset.id; //4：输出id\n\n        console.log(id); //5：发送ajax请求\n\n        var url = \"del\";\n        var obj = {\n          id: id\n        };\n\n        _this.axios.get(url, {\n          params: obj\n        }).then(function (res) {\n          console.log(res);\n        }); //6：获取服务器端返回数据\n\n\n        if (res.data.code > 0) {\n          _this.$toast(\"删除成功\");\n\n          _this.loadMore();\n        } //7：提示删除成功\n        //8：重新调用 loadMore\n\n\n        _this.loadMore();\n      }).catch(function (err) {});\n    },\n    loadMore: function loadMore() {\n      var _this2 = this;\n\n      //1:创建url\n      var url = \"findcart\"; //2:发送ajax请求获取购物车\n\n      this.axios.get(url).then(function (res) {\n        console.log(res.data.code);\n\n        if (res.data.code == -1) {\n          //提示交互提示框\n          _this2.$messagebox(\"消息\", \"请登录\").then(function (res) {\n            //跳转登录组件\n            _this2.$router.push(\"/Login\");\n          });\n        } else {\n          //res变量data属性data数组\n          _this2.list = res.data.data;\n        }\n      }); //3:将服务器返回数据保存list\n    }\n  }\n};",{"version":3,"sources":["Cart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAyBA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,YAAA,EADA,CACA;;AADA,KAAA;AAGA,GALA;AAMA,SANA,qBAMA;AAAA;AACA,SAAA,QAAA;AACA,GARA;AASA,WAAA;AACA,OADA,eACA,KADA,EACA;AAAA;;AACA;AAEA;AACA;AACA,WAAA,WAAA,CAAA,OAAA,CAAA,UAAA,EAAA,IAAA,CAAA,eAAA;AAGA;AACA;AACA,YAAA,KAAA,MAAA,MAAA,CAAA,OAAA,CAAA,EAAA,CALA,CAMA;;AACA,gBAAA,GAAA,CAAA,EAAA,EAPA,CAQA;;AACA,YAAA,MAAA,KAAA;AACA,YAAA,MAAA;AAAA;AAAA,SAAA;;AACA,cAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA;AAAA,kBAAA;AAAA,SAAA,EAAA,IAAA,CAAA,eAAA;AACA,kBAAA,GAAA,CAAA,GAAA;AACA,SAFA,EAXA,CAcA;;;AACA,YAAA,IAAA,IAAA,CAAA,IAAA,GAAA,CAAA,EAAA;AACA,gBAAA,MAAA,CAAA,MAAA;;AACA,gBAAA,QAAA;AACA,SAlBA,CAmBA;AACA;;;AACA,cAAA,QAAA;AACA,OAtBA,EAsBA,KAtBA,CAsBA,eAAA,CAEA,CAxBA;AAyBA,KA/BA;AAgCA,YAhCA,sBAgCA;AAAA;;AACA;AACA,UAAA,MAAA,UAAA,CAFA,CAGA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,eAAA;AACA,gBAAA,GAAA,CAAA,IAAA,IAAA,CAAA,IAAA;;AACA,YAAA,IAAA,IAAA,CAAA,IAAA,IAAA,CAAA,CAAA,EAAA;AACA;AACA,iBAAA,WAAA,CAAA,IAAA,EAAA,KAAA,EAAA,IAAA,CAAA,eAAA;AACA;AACA,mBAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,WAHA;AAIA,SANA,MAMA;AACA;AACA,iBAAA,IAAA,GAAA,IAAA,IAAA,CAAA,IAAA;AACA;AACA,OAZA,EAJA,CAiBA;AACA;AAlDA;AATA,CAAA","sourcesContent":["<template>\r\n    <div>\r\n        <!--<h1>购物车</h1>-->\r\n        <!--(1)顶部复选框：全选-->\r\n        <div>\r\n            全选<input type=\"checkbox\">\r\n        </div>\r\n        <!--(2)中间复选框：商品名/价格/删除-->\r\n        <div class=\"cart-item\" v-for=\"(item,i) of list\" :key=\"i\">\r\n            <div class=\"leftText\">\r\n            <input type=\"checkbox\">\r\n            <div class=\"lname\">{{item.lname}}</div>\r\n            <div class=\"price\">{{item.price}}</div>\r\n            </div>\r\n            <mt-button @click=\"del\" :data-id=\"item.id\">删除</mt-button>\r\n        </div>\r\n        <!--(3)删除选中商品复选框-->\r\n        <div>\r\n            购物车中商品数量\r\n            <span style=\"color:red\">2</span>\r\n            <mt-button>删除选中商品</mt-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data(){\r\n        return{\r\n            list:[]//购物车列表\r\n        }\r\n    },\r\n    created(){//1：添加生命周期\r\n        this.loadMore()\r\n    },\r\n    methods:{\r\n        del(event){\r\n            //1:为删除按钮添加自定义属性\r\n\r\n            //data-id 保存当前购物车商品id\r\n            //2：添加点击事件click delimiters\r\n            this.$messagebox.confirm(\"是否删除指定商品\").then(res=>{\r\n\r\n           \r\n            //2.1:交互提示：是否删除商品\r\n            //3：获取当前商品id\r\n            var id=event.target.dataset.id;\r\n            //4：输出id\r\n            console.log(id);\r\n            //5：发送ajax请求\r\n            var url=\"del\"\r\n            var obj = {id};\r\n            this.axios.get(url,{params:obj}).then(res=>{\r\n               console.log(res);\r\n            })\r\n            //6：获取服务器端返回数据\r\n            if(res.data.code>0){\r\n                this.$toast(\"删除成功\");\r\n                this.loadMore();\r\n            }\r\n            //7：提示删除成功\r\n            //8：重新调用 loadMore\r\n            this.loadMore();\r\n            }).catch(err=>{\r\n                \r\n            })\r\n        },\r\n        loadMore(){\r\n            //1:创建url\r\n            var url = \"findcart\"\r\n            //2:发送ajax请求获取购物车\r\n            this.axios.get(url).then(res=>{\r\n                console.log(res.data.code);\r\n                if(res.data.code==-1){\r\n                    //提示交互提示框\r\n                    this.$messagebox(\"消息\",\"请登录\").then(res=>{\r\n                        //跳转登录组件\r\n                        this.$router.push(\"/Login\");\r\n                    })\r\n                }else{\r\n                    //res变量data属性data数组\r\n                    this.list = res.data.data\r\n                }\r\n            })\r\n            //3:将服务器返回数据保存list\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style>\r\n/*1：购物车商品内容*/\r\n.cart-item{\r\n    display:flex;\r\n    justify-content:space-between;\r\n    align-items:center;\r\n    border-bottom:1px solid #ccc;\r\n    margin-top:25px;\r\n}\r\n/*2：左侧复选框文字弹性布局*/\r\n.leftText{\r\n    display:flex;\r\n    align-items:center;\r\n}\r\n/*3.修饰商品名称*/\r\n.lname{\r\n    margin-left:25px;\r\n    color:#333;\r\n}\r\n/*4修饰商品价格*/\r\n.price{\r\n    margin-left:25px;\r\n    color:red;\r\n}\r\n</style>"],"sourceRoot":"src\\components\\xz"}]}